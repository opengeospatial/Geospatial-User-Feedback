== 7.	*Geospatial User feedback model. Core*

This section describes two requirements classes that are fundamental for describing Geospatial User Feedback items: the Quality Common and the User Feedback Item.

=== *7.1	Requirements Class Quality Common*

This requirements class defines the data model classes that are common to, and useful for, both quality metadata generated by producers as well as user feedback metadata. For this reason, the common data model classes are kept in a separate conformance class. In essence, this conformance class represents the foundations for building a user feedback model. This requirements class inherits the ISO19115-1:2014 and the ISO19157:2013 metadata models (such as CI_Citation, CI_Date, etc) and adds two extra classes for citing publications (QCM_Publications) and for reporting discovery issues (QCM_DiscoveredIssues).

CI_Citation was initially designed to cite geospatial datasets. In the following requirement, we extend this class to make it more suitable for citing publications.

//Use the following table for Requirements Classes.

//include::../requirements/requirements_class.adoc[]

//Use the following table for Requirements, number sequentially.

include::../requirements/requirement001.adoc[]

//Dictionary tables for requirements can be added as necessary. Modify the following example as needed.

.*QCM_Publication in UML*  
image::figures/Fig001.png[align="center"]

[.text-center] 
*Table 2 — QCM_Publication extension elements*
[width="90%",options="header",float="center"]
|===
|*Names* |*Definition* |*Data types and values* |*Multiplicity and use*
|{set:cellbgcolor:#D3D3D3}title |Name by which the cited resource is known |Character String type, not empty |One (mandatory)
|alternateTitle |Short name or other language name by which the cited information is known |Character string type, not empty |Zero or many (optional)
|date |Reference date for the cited resource |CI_Date (ISO 19115-1:2014 B.3.2.6) |Zero or many (optional)
|edition |Version of the cited resource |Character String type, not empty |Zero or one (optional)
|editionDate |Date of the edition |DateTime (ISO 19115-1:2014 B.4.2)  |Zero or one (optional)
|identifier |Value uniquely identifying an object within a namespace |MD_Identifier (ISO 19115-1:2014 B.3.3.3)  |Zero or more (optional)
|citedResponsibleParty |Roles, name, contact, and position information for an individual or organization that is responsible for the resource |CI_Responsibility (ISO 19115-1:2014 B.3.2.2)  |Zero or more (optional)
|presentationForm |Mode in which the resource is represented |CI_PresentationFormCode (B.5.4)  |Zero or more (optional)
|series |Information about the series, or aggregate resource, of which the resource is a part |CI_Series (ISO 19115-1:2014 B.3.2.9)  |Zero or one (optional)
|otherCitationDetails |Other information required to complete the citation that is not recorded elsewhere |Character String type, not empty |Zero or more (optional)
|ISBN |International Standard Book Number |Character String type, not empty |Zero or one (optional)
|ISSN |International Standard Serial Number |Character String type, not empty |Zero or one (optional)
|onlineResource |Online reference to the cited resource |CI_OnlineResource (ISO 19115-1:2014 B.3.2.8)  |Zero or more (optional)
|graphic |Citation graphic or logo for the cited resource |MD_BrowseGraphic    (ISO 19115-1:2014 B.3.3.4) | Zero or more (optional) 
|{set:cellbgcolor:#D3D3D3/}target |Link to the actual geospatial resource the publication is about.  |ISO 19115-1 CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |Zero or more (optional). +
If the target of the citation is specified by another part of the data model this parameter should not be used.
|abstract |Abstract of the publication ^a^ |Character String type, not empty |Zero or one (optional)
|motivation |Purpose of the citation. Why the citation is provided in relation to the parent class or the target. |QCM_CitationMotivationCode type. See Table 3 |Zero or one (optional)
|relatedResource |Other resources that are mentioned by the publication cited. |ISO 19115-1 CI_Citation data type. |Zero or more (optional)
|scope |Scope of the citation (e.g. the extent the citation is covering). |ISO 19115-1 DQ_Scope data type |Zero or one (optional). +
Default value is the whole target
|category |Type of publication |QCM_PublicationCategoryCode type. See Table 4 |One
  (mandatory)
4+| ^a^ The need for including an abstract in CI_Citation was also acknowledged by ISO19157:2013, which defines a StandAloneQualityReport having a summary and a CI_Citation as parameters
|===

[.text-center]
*Table 3 — QCM_CitationMotivationCode type*
[width="90%",options="header",float="center"]
|===
|*Name* |*Definition* 
|compare |Compares the target resource with others. relatedResource can indicate the compared dataset's identifier. (comes from a GeoViQua use case) 
|derive |Derives a new target from this target resource. relatedResource can indicate the derived target identifier. (comes from a GeoViQua use case) 
|describe |Describes the target. (comes from W3C annotations)
|evaluate |Evaluates the target, including its quality. This may also be used by producers to append publications on CAL-VAL results. (comes from a GeoViQua use case) 
|comment |Provides comments about the target resource. (comes from W3C annotations) 
|use |Comments on the target resource, including its quality. (comes from a GeoViQua use case) 
|highlight |Highlights a part of the target resource. It may emphasize a problem in a section of the target resource or an interesting discovery. In this case DQ_Scope should be used to mark the highlighted area. (comes from W3C annotations) 
|moderate |Assignment of value or quality to the target resource. It aims to moderate it up in a trust network or threaded discussion. (comes from W3C annotations) 
|question |Asks a question about the target resource. Can be used to question the veracity or the creation methodology of the target resource.  (comes from W3C annotations) 
|reply |Contains a reply/answer to a previous publication. It can be a publication that responds a "question" motivated publication.  (comes from W3C annotations) 
|link |Links the target resource to a publication. ,Use this as a default value. In fact, any citation of a publication is a link between a resource and the publication (whatever the motivation is), so by selecting “link” we are expressing no additional motivation. (comes from W3C annotations) 
|===

[.text-center]
*Table 4 — QCM_PublicationCategoryCode type*
[width="90%",options="header",float="center"]
|===
|*Name* | *Definition*
|bookChapter | Book chapter
|book | Book
|report | report
|journalArticle | Journal article
|magazineNewspaper | Magazine or a news paper
|atlasMap | Atlas or a map in printed or digital form
|applicationProgram | Application program or a piece of software
|conferenceProceedings | Conference proceeding available in a book or in Internet
|multimediaContent | A multimedia data package conceived to be distributed as a digital publication in a physical support (e.g. CD, DVD, Blue Ray, Flash Drive, etc) or available in Internet (such as an interactive encyclopedia of old maps)
|socialMediaComment | Social media comment or entry. E.g. a tweet
|blogWiki | Blog post or a wiki entry
|webSite | Complete web site
|webPage | webPage
|videoAudio | Video, audio or a similar form of multimedia content
|tutorialManual |Tutorial or a manual
|===

ISO 19115 proposes the definition of a MD_Usage to document usages of the geospatial resource. This element has been extended in ISO 19115-1:2014 by adding a new property identifiedIssues which allows reporting of known issues associated with the resource, as well as proposed solutions if available. As a more comprehensive alternative, the GUF standard proposes the following specific class to describe discovered issues of the resource, workarounds and proposed alternatives and solutions.

include::../requirements/requirement002.adoc[]

.*QCM_DiscoveredIssue in UML*
image::figures/Fig002.png[align="center"]

[.text-center]
*Table 5 — QCM_ DiscoveredIssue data type*
[width="90%",options="header",float="center"]
|===
|*Names* |*Definition* |*Data types and values* |*Multiplicity and use*
|target |Link to the actual resource the publication is about. |CI_Citation data type (ISO 19115-1:2014 B.3.2.1)|Zero or open(optional).
If the target of the citation is specified by another part of the data model this parameter should not be used
|knownProblem |Known issue with the target |Character String type, not empty |One (mandatory)
|problemDateTime |Date when the problem was detected |CI_Date (ISO 19115-1:2014 B.3.2.6) |Zero or one (optional)
|workAround |Possible way to work around the problem |Character String type, not empty |Zero or one (optional)
|referenceDoc |A publication that exposes the issue and eventually suggest a solution. |QCM_Publication. (See Table 2) |Zero or more (optional)
|expectedFixDate |Date when a solution is expected to be released by the provider in the form of a fixedResource or directly as a fix in the original target resource. |CI_Date (ISO 19115-1:2014 B.3.2.6) |Zero or one (optional)
|fixedResource |A new version of the target resource with the knownProblem is no longer present. |CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |Zero or one (optional) |alternativeResource |An alternative resource that can be used instead of the target for similar purposes but does not present the knownProblem. |CI_Citation data type (ISO 19115-1:2014 B.3.2.1)|Zero or more (optional)
|===

=== *7.2	Requirement Class User Feedback Item*

This requirements class defines the data model classes that are involved in the definition of an individual user feedback item. A feedback item is the container of the actual feedback. Every item is set into a context by a combination of target, citations and scope.

include::../requirements/requirement003.adoc[]

.*GUF_UserFeedbackItem (fragment), GUF_USerInformation and GUF_FeedbackTarget in UML*
image::figures/Fig003.PNg[align="center"]

.*GUF_FeedbackItem (fragment), description in UML*
image::figures/Fig004.PNg[align="center"]

[.text-center]
*Table 6 — GUF_FeedbackItem data type*
|===	
|*Name* | *Definition*	| *Data type and values* | *Multiplicity and use*
[width="90%",options="header",float="center"]
|itemIdentifier | Identifier for the feedback item. | MD_Identifier data type (ISO 19115-1:2014 B.3.3.3) |  One (mandatory)
|abstract | Brief narrative description of this item, normally for display to a human. | Character String type, not empty |  One (mandatory)
|purpose | Summary of the intentions with which the feedback was provided | Character String type, not empty |  Zero or one (optional)
|contact | Information about the user providing feedback | GUF_UserInformation data type (see Table 7) |  One (mandatory)
|contactRole | User's role in the context of this feedback item. A user may have several roles recorded in the GUF_UserInformation, but this is the one that applies for this feedback ^a^. | GUF_UserRoleCode (see Table 8) |  One (mandatory)
|dateInfo | Date when the feedback item was created, updated etc. | CI_Date (ISO 19115-1:2014 B.3.2.6) |  One or more (mandatory)
|itemIsReplyTo | Identifiers of one or more items of feedback to which this item is a response.  | MD_Identifier data type (ISO 19115-1:2014 B.3.3.3) |  Identifiers of one or more items of feedback to which this item is a response. 
|descriptiveKeywords | Keyworks that can be useful to search for this item. They are selected from controlled vocabularies | MD_Keywords data type (ISO 19115-1:2014 B.2.3.2) |  Zero or more (optional)
|Tag | Free text word that can be useful to search for this item. | Character String type, not empty |  Zero or more (optional))
|locale | Language and character set used within the feedback item | PT_Locale data type (ISO 19115-1:2014 B.3.4.3) |  Zero or more (optional)
|externalFeedback | Link to an item in an external repository that contains the feedback (not described inline). | CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |  Zero or one (optional) ^b^
|additionalQuality | Structured quality assessment result | DQ_DataQuality data type (ISO 19157:2013 C.2.1.1) |  Zero or more (optional) ^b^
|userComment | Text free user comment | GUF_UserComment data type (see Table 11) | Zero or one (optional) ^b^
|usage | Structured usage report | GUF_UsageReport (see Table 13) |  Zero or more (optional) ^b^
|rating | Rating code reflecting the satisfaction of the user with the resource used | GUF_Rating (see Table 15) |  Zero or one (optional) ^b^
|citation | Citation of a published resource (e.g.: a report, a peer reviewed paper) that provides and evaluation of the usage of the resource | CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |  Zero or more (optional) ^b^
|additionalLineage | Additional lineage steps not included in the producer metadata | LI_Lineage data type (ISO 19115-1:2014 B.2.5) |  Zero or one (optional) ^b^
|significantEvent | Significant natural events or sensor or platform anomalies that can affect the interpretation of the data. | GUF_SignificantEvent (see Table 16) |  Zero or more (optional) ^b^
|target | Identifies a pre-existing resource (e.g., a dataset or a metadata record) from a catalogue. | GUF_FeedbackTarget (see Table 9)|  One or more (mandatory)
4+| ^a^ The idea is for a single user to be able to embody more than one role, but only one in each item. Thus, a data producer employee may comment and normally speak freely as an end user, but may, for example, issue a metadata override on behalf of the data provider if s/he explicitly chooses that role. S/he would only be allowed to choose roles from his/her user information, and maybe there could be additional restrictions. So users seeking reliable but "semi-official" metadata could look for overrides issued by the provider in that role. +
^b^ 	If none of these elements are populated, the item does not provide feedback and should be considered empty.
|===

[.text-center]
*Table 7 — GUF_UserInformation data type*
[width="90%",options="header",float="center"]
|===	
|*Name* | *Definition*	| *Data type and values* | *Multiplicity and use*
|userDetails | Contact details about the user and its organization.| CI_Responsibility data type (ISO 19115-1:2014 B.3.2.2)| One (mandatory)
|applicationDomain |Application domain(s) a user works in. |Character String type, not empty |Zero or more (optional)
|expertiseLevel |User level of expertise in this particular context |GUF_RatingCode numeric code list (see Table 15) |One (mandatory)
|userRole |The roles the user can play |GUF_UserRoleCode code list (see Table 8) |Zero or more (optional)
| externalUserID| User ID in an external system such as an ORCID.| MD_Identifier data type (ISO 19115-1:2014 B.3.3.3)| Zero or more (optional)
|===	

[.text-center]
*Table 8 — GUF_UserRoleCode code list*
[width="90%",options="header",float="center"]
|===	
|*Name* | *Definition*
|commercialDataProducer | Commercial Data Producer
|commercialAddedValue | Commercial Added Value
|researchDataProducer | Scientific Data Producer
|researchEndUser | Research End User
|decisionMaker | Decision Maker
|generalPublic | General Public
|===	

[.text-center]
*Table 9 — GUF_FeedbackTarget data type*
[width="90%",options="header",float="center"]
|===	
|*Name* | *Definition*	| *Data type and values* | *Multiplicity and use*
|resourceRef ^a^ |Reference to a geospatial resource that is target of the feedback item or a super set of it ^b^ |CI_Citation data type (ISO 19115-1:2014 B.3.2.1) | One or more (mandatory) ^c^
|metadataIdentifier |Identifier for a metadata record about the resource |MD_Identifier data type (ISO 19115-1:2014 B.3.3.3) |Zero or more (optional)
|scope |Describes a type of resource the feedback is about; typically a dataset, a metadata record, a feature... or a subsets of a dataset or resource. |MD_scope data type (ISO 19115-1:2014 B.3.3.1) |Zero or one (optional) ^b^
|targetType |The role of the target with respect to the feedback item |GUF_TargetRoleCode code (see Table 10) | One (mandatory)
|parent |Parent of the cited resource ^d^ |GUF_FeedbackTarget data type (see this table) |Zero or one (optional) 
|child |Child of the cited resource ^e^ |GUF_FeedbackTarget data type (see this table) |Zero or more (optional)
4+| ^a^	Do not confuse this data type with itemIsReplyTo in GUF_FeedbackItem. In the case where a feedback item replies to another feedback item, this is indicated in itemIsReplyTo. It is expected that the targets of both items are identical including the same resourceRef. +
^b^	If the reference cites a superset of the feedback target, use ‘scope’ to define the right subset of the resource referenced. +
^c^	If more than one is provided they shall point to the same resource. If you have more than one resource, use more than one GUF_FeedbackTarget elements. +
^d^	This may be used to present feedback to users grouped by the parent resources: for example, a user evaluating the quality of a single remotely-sensed image tile may also wish to see feedback on the global set of tiles, or all feedback relating to the entire data collection campaign. +
^e^	If the target is a collection, this can be used to mention its members
|===	

[.text-center]
*Table 10 — GUF_TargetRoleCode code list*
[width="90%",options="header",float="center"]
|===	
|*Name* | *Definition*
|primary | Identifies a pre-existing resource that is the subject of the feedback item, i.e. points to the resources the feedback is about.
|secondary | Referenced resources, implying that the feedback item might be relevant to the referenced resource.
|supplementary | Identifiers to additional references, e.g., another region in another dataset with similar problems. It is used to formally model references that somehow are related to the feedback item at hand, but does not imply that the feedback is relevant for the referenced subject. (An exemplary resource reference should be of this code; such feedback would not typically be shown with the resource).
|===	

[.text-center]
*Table 11 — GUF_UserComment data type*
[width="90%",options="header",float="center"]
|===
|*Name* | *Definition*	| *Data type and values* | *Multiplicity and use*
|comment |Free text |Character String type, not empty |One (mandatory)
|motivation |Motivation of the comment: it can be a comment, a question, an answer or a justification (e.g. a justification for a rating) |GUF_MotivationCode code list (see Table 12) |
|===

[.text-center]
*Table 12 — GUF_TargetRoleCode code list*
[width="90%",options="header",float="center"]
|===	
|*Name* | *Definition*
|comment |Isolated comment or a part of a discussion (a sequence of interrelated comments)
|question | Question about a feedback target that awaits an answer
|answer | Answer (possibly one of several, possibly incorrect) to a previous “question” formulated in a previous feedback item (use itemIsReplyTo to refer to a previous question or comment)
|acceptedAnswer | The answer that has been accepted as best to a previous question formulated in a previous feedback item (use itemIsReplyTo to refer to a previous question or comment)
|response | Response or a reaction of the producer or other responsible party to another feedback item (e.g: a “comment” or a “discovered issue” of a usage problem) (use itemIsReplyTo to refer to the item that motivated the response)
|justification | Justification or explanation clarifying the reasoning in another part of the feedback item e.g.: a rating
|resolution | Resolution declaring a discussion thread (a sequence of interrelated questions, answers and comments) closed (use itemIsReplyTo to refer to the last question, answer or comment)
|moderation | Reason why another feedback item has been moderated or censored
|===

[.text-center]
*Table 13 — GUF_UsageReport data type*
|===
|*Name* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|reportAspect| Aspect reported|GUF_ReportAspectCode code list (see Table 12) |One (mandatory)
|usageDescription |Usage description or limitation of the target |MD_Usage code list (ISO 19115-1:2014 B.2.3.6) |Zero or more (optional)
|discoveredIssue | Discovered issue in the target resource| QCM_DiscoveredIssue data type (see Table 5)| Zero or more (optional)
|===

[.text-center]
*Table 14 — GUF_ReportAspectCode code list*
|===	
|*Name* | *Definition*
//[width="90%",options="header",float="center"]
|usage |Description of a usage of the target resource. At least one MD_Usage should be populated 
|fitnessForPurpose |Description of a usage of the target resource that was appropriated for the intended purpose. At least one MD_Usage should be populated 
|limitation |Description of a limitation of the target resource. At least one userDeterminedLimitations in MD_Usage should be populated 
|alternative |Alternative route that helps to avoid a problem or a limitation. At least workAround or alternativeResource in one QCM_DiscoveredIssue should be populated 
|problem |A report of a problem or an issue. At least one QCM_DiscoveredIssue should be populated |
|===	

[.text-center]
*Table 15 — GUF_Rating data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
| rating| Rating in the form of a simple numeric code that qualifies subjectively the feedback target| GUF_RatingCode (see Table 18), GUF_ThumbsCode (see Table 19), GUF_SignCode (see Table 20) or other numerical code for rating| One (mandatory)
|===

[.text-center]
*Table 16 — GUF_SignificantEvent data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|abstract |Brief narrative description of this event, normally for display to a human. |Character String type, not empty |One (mandatory)
|citation |Citation of the event (e.g.: a report describing the event, or a event identifier) |CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |Zero or more (optional)
|extent |Spatio-temporal extent of the event |EX_Extent data type (ISO 19115-1:2014 B.3.1.1) |One (mandatory)
|eventType |Type of event |GUF_SignificantEventTypeCode (see Table 17) |Zero or one (optional)
|===

[.text-center]
*Table 17 — GUF_SignificantEventTypeCode code list*
|===
|*Names* | *Definition*	
//[width="90%",options="header",float="center"]
|hurricaneNatural |Hurricane episode
|volcanicEruptionNatural |Volcanic Eruption episode
|elNinoNatural |El Nino natural event 
|droughtNatural |Remarkable drought episode
|stormNatural |Remarkable Storm natural event
|wildfireNatural |Remarkable Wildfire natural event
|floodNatural |Remarkable Flood natural event
|earthquakeNatural |Remarkable Earthquake natural event
|tsunamiNatural |Remarkable Tsunami natural event
|ifsEvent |Integrated Forecast System event (e.g. a problem)
|systemEvent |Acquisition or distribution system event (e.g. a problem etc)
|satelliteAnomaly |Abnormal data in a satellite system (e.g. a sensor glitch)
|dropsondeAnomaly |Abnormal data from a dropsonde
|aircraftAnomaly |Abnormal data from a airborne system (e.g. a sensor glitch)
|buoyAnomaly |Abnormal data from a buoy
|shipAnomaly |Abnormal data from a ship sensing system (e.g. a sensor glitch)
|landStationAnomaly |Abnormal data from a land station (e.g. a sensor glitch)
|mobileSensorAnomaly |Abnormal data from a mobile sensor anomaly (e.g. a sensor glitch)
|sensorAlarm |Abnormal acquisition above or below normal parameters.
|===

NOTE: This codelist is based on the CHARMe project, which focused primarily on hazards and climatic analysis. (https://software.ecmwf.int/wiki/display/CHAR/Significant+Events). Here, as in other parts of the data model, the codelist approach allows further domain-specific entities to be described and modeled.

=== *7.3	Numeric Codelist for rating*

A numeric is a codelist that has a correspondence to a numeric code. This allows for item sorting and numerical calculations such as totals and averages based on the numeric code. Table 18, Table 19 and Table 20 are examples of numeric codelists that can be used for rating.

GUF_RatingCode is intended for implementing a 5 star rating system. This can be used for target resources or for user expertiseLevel. E.g. this is currently used in amazon.com and many other websites.

[.text-center]
*Table 18 — GUF_RatingCode numeric code type*
|===
|*Number* |*Code* |*Definition*
//[width="90%",options="header",float="center"]
|1 |oneStar | Very bad 
|2 |twoStars | Bad
|3 |threeStars | Regular
|4 |fourStars | Good
|5 |fiveStars | Excellent
|===

GUF_ThumbsCode is intended for implementing an “I like” system. GUF_ThumbsCode is expected to be used to give feedback on another feedback item, e.g. to rate the comment of another user about a target resource. E.g. this is currently used in facebook.com “I like” and many other websites.

[.text-center]
*Table 19 — GUF_ThumbsCode numeric code type*
|===
|*Number* |*Code* |*Definition*
//[width="90%",options="header",float="center"]
|-1 |thumbsDown |Thumbs down
|1 |thumbsUp |Thumbs up
|===

GUF_SignCode could be used to accompany textual GUF_UserComment to give an indication if the comment is emphasizing a positive aspect, a neutral or a negative aspect (e.g. a complaint). E.g. this is currently used to rate user reputation in ebay.com.

[.text-center]
*Table 20 — GUF_SignCode numeric code type*
|===
|*Number* |*Code* |*Definition*
//[width="90%",options="header",float="center"]
|-1 |negative |Negative
|0 |neutral |Neutral
|1 |positive |Positive
|===

== *8.	Geospatial User feedback model. Extensions*

This section describes two requirements classes that are considered extensions of the core: the User Feedback Summary and the User Feedback Collection.

=== *8.1	Requirements Class User Feedback Summary Extension*

This requirements class defines the data model classes that allow for encoding summary statistics of feedback items that share the same target.

include::../requirements/requirement004.adoc[]

.*UFS_FeedbackSummary data model UML diagram*	
image::figures/Fig005.png[]	

[.text-center]
*Table 21 — UFS_FeedbackSummary data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|target |Common geospatial resource the summary is about.  |ISO 19115-1 CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |Zero or one (optional). +
If the target of the citation is specified by another part of the data model this parameter should not be used
|numberOfFeedbackItem |Number of Feedback items this summary is about |Integer type |One (mandatory)
|latestItemDate |The date of the last item |CI_Date (ISO 19115-1:2014 B.3.2.6) |Zero or one (optional)
|numberOfPrimaryTargets |Total number of primary targets |Integer type |Zero or one (optional)
|numberOfSecondaryTargets |Total number of secondary targets |Integer type |Zero or one (optional)
|numberOfSupplementaryTargets |Total number of supplementary targets |Integer type |Zero or one (optional)
|averageUserExpertiseLevel |Average user expertise level |Real type |Zero or one (optional)
|minimumPossibleRating |Minimum numeric value for a rating |Real type |One (mandatory)
|maximumPossibleRating |Maximum numeric value for a rating |Real type |One (mandatory)
|averageRating |Average rating |Real type |One (mandatory)
|numberOfRatings |Number of feedback items with a valid rating |Integer type |One (mandatory)
|numberOfUserComments |Number of feedback items with a valid comment |Integer type |One (mandatory)
|numberOfUsageReports |Number of populated usage reports |Integer type |One (mandatory)
|numberOfCitations |Number of populated citations |Integer type |One (mandatory)
|numberOfAdditionalQualities |Number of populated quality elements |Integer type |One (mandatory)
|numberOfAdditionalLineages |Number of feedback items with a valid reported lineage |Integer type |One (mandatory)
|numberOfSignificantEvents |Number of populated significant events |Integer type |One (mandatory)
|feedbackItemsByExpertiseLevelCount |Number of feedback items by each level of expertise  |UFS_ExpertiseLevelCount data type (see Table 22) |Zero or more (optional) ^a^
|userByRoleCount |Number of feedback items for each user role |UFS_UserRoleCount data type (see Table 23) |Zero or more (optional) ^b^
|byTagCount |Number of feedback items for each tag |UFS_TagCount data type (see Table 24) |Zero or more (optional) ^c^
|byKeywordCount |Number of feedback items for each keyword |UFS_KeywordCount data type (see Table 25) |Zero or more (optional) ^d^
|byRatingCount |Number of feedback items for each rating value |UFS_RatingCount data type (see Table 26) |Zero or more (optional) ^e^
|ratingByExpertiseLevelCount |Number of feedback items for each rating and level of expertise |UFS_RatingExpertiseLevelCount data type (see Table 27) |Zero or more (optional) ^f^
4+|^a^	In the case where feedbackItemsByExpertiseLevelCount occurs more than once, the expertiseLevel values shall be different for each. +
^b^	In the case where userByRoleCount occurs more than once, its userRole values shall be different. +
^c^	In the case where byTagCount occurs more than once, its tag values shall be different. +
^d^	In the case where byKeywordCount occurs more than once, its keyword values shall be different. +
^e^	In the case where byRatingCount occurs more than once, its rating values shall be different. +
^f^	In the case where ratingByExpertiseLevelCount occurs more than once, their rating / expertiseLevel pair values shall be different.
|===

[.text-center]
*Table 22 — UFS_ExpertiseLevelCount data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|expertiseLevel |A possible value of expertise level |GUF_RatingCode data type (see Table 18) |One (mandatory)
|count |Number of feedback items that were populated by this expertiseLevel code |Integer data type |One (mandatory)
|===

[.text-center]
*Table 23 — UFS_UserRoleCount data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|userRole |A possible value of expertise level |GUF_UserRoleCode data type (see Table 8)|One (mandatory)
|count |Number of time that a feedback items was populated by a user acting with this userRole code |Integer data type |One (mandatory)
|===

[.text-center]
*Table 24 — UFS_TagCount data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|tag |A possible value of expertise level |Character String data type not empty |One (mandatory)
|count |Number of feedback items that were populated with this tag value |Integer data type |One (mandatory)
|===

[.text-center]
*Table 25 — UFS_KeywordCount data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|keyword |A possible value of expertise level |MD_Keywords data type (ISO 19115-1:2014 B.2.3.2) |One (mandatory)
|count |Number of feedback items that were populated with this keyword |Integer data type |One (mandatory)
|===

[.text-center]
*Table 26 — UFS_RatingCount data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|rating |A possible value of expertise level |GUF_RatingCode (see Table 18), GUF_ThumbsCode (see Table 19), GUF_SignCode (see Table 20) or other numerical code for rating |One (mandatory)
|count |Number of feedback items that were populated with this rating code |Integer data type |One (mandatory)
|===

[.text-center]
*Table 27 — UFS_RatingExpertiseLevelCount data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|rating |A possible value of rating  |GUF_RatingCode (see Table 18), +
GUF_ThumbsCode (see Table 19), + 
GUF_SignCode (see Table 20) +
or other numerical code for rating |One (mandatory)
|expertiseLevel |A possible value of expertise level |GUF_RatingCode data type (see Table 18)|One (mandatory)
|count |Number of feedback items that were populated with this rating-expertiseLevel code pair |Integer data type |One (mandatory)
|===

=== *8.2	Requirements Class User Feedback Collection Extension*

This requirements class defines the data model classes that allow for grouping of feedback items into a feedback response and feedback collection with summary statistics. A feedback collection is a collection of a feedback items that share a common target and share the same rating code list.

include::../requirements/requirement005.adoc[]

.*User Feedback Collection Extension classes in a UML diagram*	
image::figures/Fig006.png[]

[.text-center]
*Table 28 — UFC_FeedbackResponse data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|collection |Collection of feedback items |UFC_FeedbackCollection data type (see Table 29) |One or more (mandatory)
|===

include::../requirements/requirement006.adoc[]

[.text-center]
*Table 29 — UFC_FeedbackCollection data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|target |Common geospatial resource to which the collection refers.  |ISO 19115-1 CI_Citation data type (ISO 19115-1:2014 B.3.2.1) |Zero or one (optional). +
If the target of the citation is specified by another part of the data model this parameter should not be used
|item |Feedback item |GUF_FeedbackItem data type (see Table 6)|Zero or more (optional)
|summary |Summary of the feedback items |UFS_FeedbackSummary data type (see Table 21) |Zero or one (optional)
|pagination |Information about the page structure of the collection |UFC_ResponsePagination (see Table 30) |Zero or one (optional)
|===

include::../requirements/requirement007.adoc[]

[.text-center]
*Table 30 — UFC_ResponsePagination data type*
|===
|*Names* | *Definition*	| *Data type and values* | *Multiplicity and use*
//[width="90%",options="header",float="center"]
|numberOfFeedbackItems |Number of feedback items in the collection |Integer data type |One (mandatory)
|limit |Maximum feedback items per page |Integer data type |Zero or one (optional). It not present, there is no limit
|offset |Number of the first items in the complete collection that has been skipped |Integer data type |Zero or one (optional). It not present, no item was skipped
|count |Number of feedback, items in this page |Integer data type |One (mandatory)
|===

